defradb:
  url: "localhost:9181"
  keyring_secret: "pingpong"
  # P2P Configuration (controlled by NetworkHandler)
  p2p:
    enabled: true
    bootstrap_peers:
      # - '/ip4/127.0.0.1/tcp/9171/p2p/12D3KooWPUs4yfqJtg8PyxfFCjDp9jyqVKottSVLcA6PgpLJErX1'
      # Standard new - http://34.132.179.9:8080/health
      - '/ip4/34.132.179.9/tcp/9171/p2p/12D3KooWMymVTnizbJbgpb1455pmDyTvdbKkLxPVWqtqhXwQQP7b'
      # Standard - http://136.116.120.118:8080/health
      # - '/ip4/136.116.120.118/tcp/9171/p2p/12D3KooWReTeHzv2qbVun7eAXGhhHcgUMn1mUU4Mjk7hvD4fTGWm'
      # Branchable - http://34.9.209.81:8080/health
      # - '/ip4/34.9.209.81/tcp/9171/p2p/12D3KooWHWaUbxKCq91mLPAQQzC283fqnYfAG4WkDGtmX6mRp3ia'
    listen_addr: "/ip4/0.0.0.0/tcp/9171"
    max_retries: 5                  # Number of connection attempts before marking peer as failed
    retry_base_delay_ms: 1000       # Base delay for exponential backoff (1s, 2s, 4s, 8s, 16s)
    reconnect_interval_ms: 60000    # Check for disconnected peers every 60 seconds
    enable_auto_reconnect: true     # Automatically reconnect to failed/disconnected peers
  store:
    path: "./.defra/data"
shinzo:
  minimum_attestations: 1
  start_height: 23700000  # Start closer to latest block for testing (was 23500000) branchable - 23603421 non-branchable - 23700000
  hub_base_url: shinzohub-rpc.infra.source.network:26657
  
  # P2P Control Settings
  wait_for_gaps: true         # Wait for gap processing before starting P2P
  max_gap_size: 1000          # Skip P2P if gap is larger than this

  # Queue Settings
  cache_queue_size: 50000        # Job queue size for document processing

  # View Management Settings
  view_inactivity_timeout: "24h"  # Stop updating views after 24h of no access
  view_cleanup_interval: "1h"     # Check for inactive views every hour
  view_worker_count: 20            # Workers for batch lens transformations (increased from 2)
  view_queue_size: 5000           # Queue size for batch processing jobs (increased from 1000)
  
  # Batch Processing Settings (View Management)
  batch_processing_enabled: true     # Enable batch processing for efficiency
  batch_max_views_per_job: 50         # Split large batches to prevent memory issues
  batch_query_cache_size: 1000        # Cache query templates for reuse

  # Batch Attestation Processing Settings
  batch_writer_count: 24             # Number of batch writers (default: 16)
  batch_size: 256                    # Max attestations per batch (default: 100)
  batch_flush_interval: 50           # Flush interval in milliseconds (default: 50)

logger:
  development: true
  level: "debug"  # Only show errors, suppress all P2P info/warn messages
  # Alternative: Suppress specific P2P logging
  # modules:
  #   p2p: "error"     # Suppress P2P info messages
  #   coreblock: "error" # Suppress DAG head messages

host:
  lens_registry_path: "./.lens"
  health_server_port: 8080
  pprof_port: 6060